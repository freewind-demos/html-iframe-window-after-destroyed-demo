<!DOCTYPE html>
<html>
<head>
</head>
<body>
<h1>Top</h1>
<iframe id="inner" src="./inner.html" onload="repeatHello()"></iframe>
<div>
  <button type="button" onclick="removeIframe()">Remove iframe</button>
</div>
<script>
  function removeIframe() {
    document.getElementById('inner').remove()
  }

  function repeatHello() {
    const inner = document.getElementById('inner');
    const innerWindow = inner.contentWindow;
    setInterval(function () {
      const main = innerWindow.document.getElementById('main');
      console.log(main.innerText);
      console.log('innerWindow.frameElement', innerWindow.frameElement);
      console.log('innerWindow.top', innerWindow.top);
    }, 1000)
  }
</script>
</body>
</html>
